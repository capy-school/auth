---
import Layout from '../../layouts/Layout.astro';
import PasskeyManager from '../../components/PasskeyManager';
import { auth } from '../../lib/auth';

const session = await auth.api.getSession({ headers: Astro.request.headers });
if (!session) {
  return Astro.redirect('/');
}
---

<Layout title="Manage Passkeys">
  <div class="container mx-auto px-4 py-8">
    <div class="max-w-2xl mx-auto bg-gray-800/50 backdrop-blur-lg rounded-2xl shadow-xl p-6 border border-gray-700">
      <PasskeyManager client:load />
    </div>
  </div>
</Layout>
